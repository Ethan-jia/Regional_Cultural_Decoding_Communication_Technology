{"version":3,"sources":["uni-app:///src/main.js","webpack:///./src/pages/videoPlay/videoPreview.vue?e2f6","webpack:///./src/pages/videoPlay/videoPreview.vue?2840","webpack:///./src/pages/videoPlay/videoPreview.vue?ece0","webpack:///./src/pages/videoPlay/videoPreview.vue?07c3","uni-app:///src/pages/videoPlay/videoPreview.vue","webpack:///./src/pages/videoPlay/videoPreview.vue?c8e3","webpack:///./src/pages/videoPlay/videoPreview.vue?fe66"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","url","templateId","templateSrc","styleId","openId","secretKey","loading_pic","onLoad","option","console","methods","open","close","getVideo","uni","header","timeout","method","template","type","success","res","that","title","duration","icon","setTimeout","fail","error","saveVideo","goods_order","backHome","handleQuit","content","tmplIds"],"mappings":"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","file":"pages/videoPlay/videoPreview.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/videoPlay/videoPreview.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./videoPreview.vue?vue&type=template&id=7a0283c6&\"\nvar renderjs\nimport script from \"./videoPreview.vue?vue&type=script&lang=js&\"\nexport * from \"./videoPreview.vue?vue&type=script&lang=js&\"\nimport style0 from \"./videoPreview.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/videoPlay/videoPreview.vue\"\nexport default component.exports","export * from \"-!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--15-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./videoPreview.vue?vue&type=template&id=7a0283c6&\"","var components\ntry {\n  components = {\n    uniPopup: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/@dcloudio/uni-ui/lib/uni-popup/uni-popup\" */ \"@dcloudio/uni-ui/lib/uni-popup/uni-popup.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./videoPreview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./videoPreview.vue?vue&type=script&lang=js&\"","<template>\r\n    <view class=\"video-play\">\r\n        <view class=\"video-wrap\">\r\n            <video :src=\"url\" class=\"video\" :autoplay=\"true\"></video>\r\n        </view>\r\n        <uni-popup ref=\"popup\" type=\"center\">\r\n            <view class=\"loading-wrap\">\r\n                <img :src=\"loading_pic\" class=\"loading-pic\" />\r\n                <button class=\"loading\" @click=\"handleQuit\">\r\n                    生成有点慢,我先干点别的\r\n                </button>\r\n            </view>\r\n        </uni-popup>\r\n        <view class=\"btn\">\r\n            <button v-if=\"url\" class=\"save-btn\" @click=\"saveVideo\">\r\n                <text>支付并保存</text>\r\n            </button>\r\n            <button v-if=\"url\" class=\"back-btn\" @click=\"backHome\">\r\n                <text>返回主页</text>\r\n            </button>\r\n        </view>\r\n    </view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            url: \"\",\r\n            templateId: \"\", //1:抠图,2:串编,3:ai\r\n            templateSrc: \"\", //模板编号\r\n            styleId: \"\", //1:竖版 2:横板\r\n            openId: \"\",\r\n            secretKey: \"\",\r\n            loading_pic: this.baseUrl + \"/image/loading.gif/\",\r\n        };\r\n    },\r\n\r\n    onLoad(option) {\r\n        this.templateSrc = option.templateSrc;\r\n        this.templateId = option.templateId;\r\n\r\n        this.styleId = uni.getStorageSync(\"styleId\");\r\n        this.openId = uni.getStorageSync(\"openId\");\r\n        this.secretKey = uni.getStorageSync(\"secretKey\");\r\n\r\n       \r\n        this.getVideo();\r\n    \r\n       \r\n        console.log(\"---------\");\r\n        console.log(this.styleId);\r\n        console.log(this.templateSrc);\r\n        console.log(\"Id\");\r\n        console.log(this.templateId);\r\n    },\r\n    methods: {\r\n        open() {\r\n            this.$refs.popup.open(\"center\");\r\n        },\r\n        close() {\r\n            this.$refs.popup.close();\r\n        },\r\n        getVideo() {\r\n            //打开loading等待\r\n            this.open();\r\n            const that = this;\r\n            if (that.templateId === \"1\") {\r\n                //抠图\r\n\r\n                uni.request({\r\n                    url: that.baseUrl + \"/process\",\r\n                    header: that.header,\r\n                    timeout: 60000,\r\n                    method: \"GET\",\r\n                    data: {\r\n                        secretKey: that.secretKey,\r\n                        openId: that.openId,\r\n                        template: that.templateSrc,\r\n                        type: \"matting\",\r\n                    },\r\n                    success(res) {\r\n                        if (res.data.code == \"OK\") {\r\n                            that.url = res.data.videoPath;\r\n                            console.log(that.url);\r\n                            that.close();\r\n                        }\r\n                        else {\r\n                            that.close();\r\n                            uni.showToast({\r\n                                title: \"生成失败！\",\r\n                                duration: 1500,\r\n                                icon: \"error\",\r\n                            });\r\n                            setTimeout(() => {\r\n                                that.backHome();\r\n                            }, 1500);\r\n                        }\r\n\r\n\r\n                    },\r\n                    fail(error) {\r\n                        console.log(error);\r\n                        that.close();\r\n                        uni.showToast({\r\n                            title: \"生成失败！\",\r\n                            duration: 1500,\r\n                            icon: \"error\",\r\n                        });\r\n                        setTimeout(() => {\r\n                            that.backHome();\r\n                        }, 1500);\r\n\r\n                    },\r\n                });\r\n            } else if (that.templateId === \"2\") {\r\n                //串编\r\n                \r\n                if (that.styleId === \"1\") {\r\n                    console.log(\"1111111\");\r\n                    setTimeout(() => {\r\n                        uni.request({\r\n                            url: that.baseUrl + \"/process\",\r\n                            header: that.header,\r\n                            timeout: 60000,\r\n                            method: \"GET\",\r\n                            data: {\r\n                                secretKey: that.secretKey,\r\n                                openId: that.openId,\r\n                                template: that.templateSrc,\r\n                                type: \"editing_vertical\",\r\n                            },\r\n                            success(res) {\r\n                                console.log(res);\r\n                                if (res.data.code == \"OK\") {\r\n                                    that.url = res.data.videoPath;\r\n                                    console.log(that.url);\r\n                                    that.close();\r\n                                }\r\n                                else {\r\n                                    that.close();\r\n                                    uni.showToast({\r\n                                        title: \"生成失败！\",\r\n                                        duration: 1500,\r\n                                        icon: \"error\",\r\n                                    });\r\n                                    setTimeout(() => {\r\n                                        that.backHome();\r\n                                    }, 1500);\r\n                                }\r\n                            },\r\n                            fail(error) {\r\n                                console.log(error);\r\n                                that.close();\r\n                                uni.showToast({\r\n                                    title: \"生成失败！\",\r\n                                    duration: 1500,\r\n                                    icon: \"error\",\r\n                                });\r\n                                setTimeout(() => {\r\n                                    that.backHome();\r\n                                }, 1500);\r\n                            },\r\n                        });\r\n                    }, 5000);\r\n                }\r\n                else if (that.styleId === \"2\") {\r\n                    setTimeout(() => {\r\n                        uni.request({\r\n                            url: that.baseUrl + \"/process\",\r\n                            header: that.header,\r\n                            timeout: 60000,\r\n                            method: \"GET\",\r\n                            data: {\r\n                                secretKey: that.secretKey,\r\n                                openId: that.openId,\r\n                                template: that.templateSrc,\r\n                                type: \"editing_horizontal\",\r\n                            },\r\n                            success(res) {\r\n                                if (res.data.code == \"OK\") {\r\n                                    that.url = res.data.videoPath;\r\n                                    console.log(that.url);\r\n                                    that.close();\r\n                                }\r\n                                else {\r\n                                    that.close();\r\n                                    uni.showToast({\r\n                                        title: \"生成失败！\",\r\n                                        duration: 1500,\r\n                                        icon: \"error\",\r\n                                    });\r\n                                    setTimeout(() => {\r\n                                        that.backHome();\r\n                                    }, 1500);\r\n                                }\r\n                            },\r\n                            fail(error) {\r\n                                console.log(error);\r\n                                that.close();\r\n                                uni.showToast({\r\n                                    title: \"生成失败！\",\r\n                                    duration: 1500,\r\n                                    icon: \"error\",\r\n                                });\r\n                                setTimeout(() => {\r\n                                    that.backHome();\r\n                                }, 1500);\r\n                            },\r\n                        });\r\n                    }, 5000);\r\n                }\r\n\r\n            } else if (that.templateId === \"3\") {\r\n                if (that.styleId === \"1\") {\r\n                    //ai_竖版\r\n                    setTimeout(() => {\r\n                        uni.request({\r\n                            url: that.baseUrl + \"/process\",\r\n                            method: \"GET\",\r\n                            header: that.header,\r\n                            timeout: 60000,\r\n                            data: {\r\n                                secretKey: that.secretKey,\r\n                                openId: that.openId,\r\n                                template: that.templateSrc,\r\n                                type: \"ai_vertical\",\r\n                            },\r\n                            success(res) {\r\n                                if (res.data.code == \"OK\") {\r\n                                    that.url = res.data.videoPath;\r\n                                    console.log(that.url);\r\n                                    that.close();\r\n                                }\r\n                                else {\r\n                                    that.close();\r\n                                    uni.showToast({\r\n                                        title: \"生成失败！\",\r\n                                        duration: 1500,\r\n                                        icon: \"error\",\r\n                                    });\r\n                                    setTimeout(() => {\r\n                                        that.backHome();\r\n                                    }, 1500);\r\n                                }\r\n                            },\r\n                            fail(error) {\r\n                                console.log(error);\r\n                                that.close();\r\n                                uni.showToast({\r\n                                    title: \"生成失败！\",\r\n                                    duration: 1500,\r\n                                    icon: \"error\",\r\n                                });\r\n                                setTimeout(() => {\r\n                                    that.backHome();\r\n                                }, 1500);\r\n                            },\r\n                        });\r\n                    }, 8000);\r\n                } else if (that.styleId === \"2\") {\r\n                    //ai_横板\r\n                    setTimeout(() => {\r\n                        uni.request({\r\n                            url: that.baseUrl + \"/process\",\r\n                            method: \"GET\",\r\n                            header: that.header,\r\n                            timeout: 60000,\r\n                            data: {\r\n                                secretKey: that.secretKey,\r\n                                openId: that.openId,\r\n                                template: that.templateSrc,\r\n                                type: \"ai_horizontal\",\r\n                            },\r\n                            success(res) {\r\n                                if (res.data.code === \"OK\") {\r\n                                    that.url = res.data.videoPath;\r\n                                    console.log(that.url);\r\n                                    that.close();\r\n                                }\r\n                                else {\r\n                                    that.close();\r\n                                    uni.showToast({\r\n                                        title: \"生成失败！\",\r\n                                        duration: 1500,\r\n                                        icon: \"error\",\r\n                                    });\r\n                                    setTimeout(() => {\r\n                                        that.backHome();\r\n                                    }, 1500);\r\n                                }\r\n                            },\r\n                            fail(error) {\r\n                                console.log(error);\r\n                                that.close();\r\n                                uni.showToast({\r\n                                    title: \"生成失败！\",\r\n                                    duration: 1500,\r\n                                    icon: \"error\",\r\n                                });\r\n                                setTimeout(() => {\r\n                                    that.backHome();\r\n                                }, 1500);\r\n                            },\r\n                        });\r\n                    }, 8000);\r\n                }\r\n            }\r\n        },\r\n        saveVideo() {\r\n            const that = this;\r\n            setTimeout(() => {\r\n                uni.request({\r\n                    url: that.baseUrl + \"/get/orderId\",\r\n                    method: \"GET\",\r\n                    header: that.header,\r\n                    timeout: 10000,\r\n                    data: {\r\n                        secretKey: that.secretKey,\r\n                        openId: that.openId,\r\n                    },\r\n                    success(res) {\r\n                        if (res.data.code == \"OK\") {\r\n                            let goods_order = res.data.orderId;\r\n                            uni.navigateTo({\r\n                                url:\r\n                                    \"/pages/payMoney/index?goods_order=\" +\r\n                                    goods_order +\r\n                                    \"&url=\" +\r\n                                    that.url + \"&secretKey=\" + that.secretKey\r\n                            });\r\n                        }\r\n                    },\r\n                });\r\n            }, 100);\r\n        },\r\n        backHome() {\r\n            uni.reLaunch({\r\n                url: \"/pages/travel/index\",\r\n            });\r\n        },\r\n        handleQuit() {\r\n            const that = this\r\n            uni.showModal({\r\n                title: \"请授权微信服务通知\",\r\n                content:\r\n                    \"由于后台生成,之后会回到主页,可自行选择关闭小程序,视频生成完成后会通知您\",\r\n                success: (res) => {\r\n                    if (res.confirm) {\r\n                        uni.requestSubscribeMessage({\r\n                            tmplIds: [\"w3vvFG2HHxGrLanXNagDCwz7uNw_RtXV1xvOQrV4kHE\"],\r\n                            success: (res) => {\r\n                                console.log(res[\"w3vvFG2HHxGrLanXNagDCwz7uNw_RtXV1xvOQrV4kHE\"]);\r\n                                if (\r\n                                    res[\"w3vvFG2HHxGrLanXNagDCwz7uNw_RtXV1xvOQrV4kHE\"] === \"reject\"\r\n                                ) {\r\n                                    uni.showToast({\r\n                                        title: \"未授权\",\r\n                                        duration: 1500,\r\n                                        icon: \"error\",\r\n                                    });\r\n                                } else if (\r\n                                    res[\"w3vvFG2HHxGrLanXNagDCwz7uNw_RtXV1xvOQrV4kHE\"] === \"ban\"\r\n                                ) {\r\n                                    uni.showToast({\r\n                                        title: \"消息已禁用\",\r\n                                        duration: 1500,\r\n                                        icon: \"error\",\r\n                                    });\r\n                                } else if (\r\n                                    res[\"w3vvFG2HHxGrLanXNagDCwz7uNw_RtXV1xvOQrV4kHE\"] === \"accept\"\r\n                                ) {\r\n                                    console.log(\"success\");\r\n                                    uni.request({\r\n                                        url: that.baseUrl + \"/subscribe\",\r\n                                        method: \"GET\",\r\n                                        header: that.header,\r\n                                        timeout: 10000,\r\n                                        data: {\r\n                                            openId: that.openId,\r\n                                            secretKey: that.secretKey\r\n                                        },\r\n                                        success: (res) => {\r\n                                            console.log(res);\r\n                                            if (res.data.code === \"OK\") {\r\n                                                that.backHome()\r\n                                            }\r\n                                        },\r\n                                        fail: (error) => {\r\n                                            console.log(error);\r\n                                        }\r\n                                    });\r\n                                }\r\n                            },\r\n                            fail: (error) => {\r\n                                console.log(error);\r\n                                uni.showToast({\r\n                                    title: \"未授权\",\r\n                                    duration: 1500,\r\n                                    icon: \"error\",\r\n                                });\r\n                            },\r\n                        });\r\n                    }\r\n\r\n                },\r\n            });\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.video-play {\r\n    width: 100vw;\r\n    height: 100vh;\r\n    background-color: black;\r\n    display: flex;\r\n    flex-direction: column;\r\n    // position: relative;\r\n\r\n    .video-wrap {\r\n        position: absolute;\r\n        margin-top: 20%;\r\n        margin-left: 10%;\r\n\r\n        .video {\r\n            height: 70vh;\r\n            width: 80vw;\r\n            border-radius: 10px;\r\n        }\r\n    }\r\n\r\n    .loading-wrap {\r\n        width: 100vw;\r\n        height: 100vh;\r\n        background-color: #4cca78;\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        justify-content: center;\r\n\r\n        .loading-pic {\r\n            width: 80vw;\r\n            height: 10vh;\r\n        }\r\n\r\n        .loading {\r\n            width: 70vw;\r\n            height: 5vh;\r\n            position: absolute;\r\n            bottom: 0;\r\n            margin-bottom: 15vh;\r\n            background-color: #4cca78;\r\n            color: white;\r\n            font-weight: bold;\r\n            border-color: white;\r\n            border-style: solid;\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: center;\r\n            justify-content: center;\r\n        }\r\n    }\r\n\r\n    .btn {\r\n        display: flex;\r\n        flex-direction: row;\r\n        position: absolute;\r\n        bottom: 0;\r\n        margin-bottom: 5vh;\r\n\r\n        .save-btn {\r\n            color: white;\r\n            background-color: #4cca78;\r\n            width: 45vw;\r\n            height: 5vh;\r\n            font-size: 16px;\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n            font-size: 16px;\r\n            margin-left: 11%;\r\n        }\r\n\r\n        .back-btn {\r\n            width: 45vw;\r\n            height: 5vh;\r\n            font-size: 16px;\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n            font-size: 16px;\r\n            margin-left: 10%;\r\n        }\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--9-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--9-oneOf-1-5!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./videoPreview.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--9-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--9-oneOf-1-5!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./videoPreview.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1669620168671\n      var cssReload = require(\"E:/code/workSpace/project/lingting_travel/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}