{"version":3,"sources":["uni-app:///src/main.js","webpack:///./src/pages/videoPlay/index.vue?8685","webpack:///./src/pages/videoPlay/index.vue?a3b6","webpack:///./src/pages/videoPlay/index.vue?4321","webpack:///./src/pages/videoPlay/index.vue?c884","uni-app:///src/pages/videoPlay/index.vue","webpack:///./src/pages/videoPlay/index.vue?8d3a","webpack:///./src/pages/videoPlay/index.vue?144a"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","url","status","mode","onLoad","option","console","methods","backHome","uni","delta","saveVideo","mask","title","success","src","bitrate","fps","resolution","res2","filePath","duration","setTimeout","fail","error"],"mappings":";;;;;;;;;;;;AAAA;;AAGA;;AACA;;;;AAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAGAC,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACc;;;AAGlE;AACmI;AACnI,gBAAgB,gJAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAkc,CAAgB,8dAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCctd;EACAC,IADA,kBACA;IACA;MACAC,OADA;MAEAC,UAFA;MAEA;MACAC;IAHA;EAKA,CAPA;EAQAC,MARA,kBAQAC,MARA,EAQA;IAAA;IAEA;IACAC;IACA;IACAA;IACAA;;IACA;MACA;IAEA,CAHA,MAIA;MAEA;MACA;IAGA,CANA,MAQA;MACA;IACA;EAGA,CAhCA;EAiCAC;IACAC,QADA,sBACA;MACAC;QAAAC;MAAA;IACA,CAHA;IAIAC,SAJA,uBAIA;MAAA;;MACA;MACAF;QAAAG;QAAAC;MAAA,GAFA,CAIA;;MACAP;MACAG;QACAR,aADA;QAEAa;UACA;;UACA,6BAEA;UAEA;;UACAR;UACAG;YACAM,sBADA;YAEA;YACAC,eAHA;YAIAC,SAJA;YAKAC,eALA;YAMAJ,OANA,mBAMAK,IANA,EAMA;cACAb;cACAG;gBAEAW,2BAFA;gBAGAN,OAHA,qBAGA;kBACAR;kBACAG;kBACAA;oBACAI,aADA;oBAEAQ;kBAFA;kBAIAC;oBACAb;sBACAR;oBADA;kBAGA,CAJA,EAIA,IAJA;gBAOA,CAjBA;gBAkBAsB,IAlBA,gBAkBAC,KAlBA,EAkBA;kBACAlB;kBACAG;gBAGA;cAvBA;YA0BA;UAlCA;QAsCA;MAhDA;IAkDA;EA5DA;AAjCA,C;;;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAA62B,CAAgB,y1BAAG,EAAC,C;;;;;;;;;;;ACAj4B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/videoPlay/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/videoPlay/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=68c336ae&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/videoPlay/index.vue\"\nexport default component.exports","export * from \"-!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--15-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=68c336ae&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n    <view class=\"video-play\">\r\n        <view class=\"video-wrap\">\r\n            <video :src=\"url\" class=\"video\" :object-fit=\"mode\" :autoplay=true></video>\r\n            <button v-if=\"status==0 || status==2\" @click=\"backHome\" class=\"btn\"><text>\r\n                    返 回\r\n                </text></button>\r\n        </view>\r\n    </view>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            url: \"\",\r\n            status: \"\", // 0:主页预览模式 1：保存模式 2:我的视频预览模式\r\n            mode: \"\"\r\n        }\r\n    },\r\n    onLoad(option) { //option为object类型，会序列化上个页面传递的参数\r\n\r\n        this.url = option.url\r\n        console.log(this.url)\r\n        this.status = option.status\r\n        console.log(\"---------------\");\r\n        console.log(this.status);\r\n        if (this.status === \"0\") {\r\n            this.mode = \"fill\"\r\n\r\n        }\r\n        else if (this.status === \"1\") {\r\n\r\n            this.mode = \"contain\"\r\n            this.saveVideo()\r\n\r\n\r\n        }\r\n\r\n        else if (this.status === \"2\") {\r\n            this.mode = \"contain\"\r\n        }\r\n\r\n\r\n    },\r\n    methods: {\r\n        backHome() {\r\n            uni.navigateBack({ delta: 1 })\r\n        },\r\n        saveVideo() {\r\n            //打开loading等待\r\n            uni.showLoading({ mask: true, title: \"保存中...\" })\r\n\r\n            //先下载视频\r\n            console.log(this.url);\r\n            uni.downloadFile({\r\n                url: this.url,\r\n                success: (res1) => {\r\n                    const that = this\r\n                    if (res1.statusCode == 200) {\r\n\r\n                        //保存视频到本地\r\n\r\n                    }\r\n                    console.log(res1.tempFilePath);\r\n                    uni.compressVideo({\r\n                        src: res1.tempFilePath,\r\n                        // quality: \"medium\",\r\n                        bitrate: \"2000\",\r\n                        fps: \"30\",\r\n                        resolution: \"1\",\r\n                        success(res2) {\r\n                            console.log(\"压缩成功！\");\r\n                            uni.saveVideoToPhotosAlbum({\r\n\r\n                                filePath: res2.tempFilePath,\r\n                                success() {\r\n                                    console.log(\"save success!\");\r\n                                    uni.hideLoading()\r\n                                    uni.showToast({\r\n                                        title: \"保存成功\",\r\n                                        duration: 1500,\r\n                                    });\r\n                                    setTimeout(() => {\r\n                                        uni.navigateTo({\r\n                                            url: \"/pages/saveStatus/index?id=1\"\r\n                                        })\r\n                                    }, 1500);\r\n\r\n\r\n                                },\r\n                                fail(error) {\r\n                                    console.log(error);\r\n                                    uni.hideLoading()\r\n\r\n\r\n                                }\r\n                            });\r\n\r\n                        }\r\n                    })\r\n\r\n\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n\r\n<style lang=\"scss\">\r\n.video-play {\r\n    height: 100vh;\r\n    background-color: black;\r\n    position: relative;\r\n\r\n    .video-wrap {\r\n        display: flex;\r\n        flex-direction: column;\r\n        position: absolute;\r\n        margin-top: 15%;\r\n        margin-left: 10%;\r\n\r\n\r\n\r\n        .video {\r\n            height: 70vh;\r\n            width: 80vw;\r\n            border-radius: 10px;\r\n        }\r\n\r\n        .btn {\r\n            margin-top: 10%;\r\n            height: 5vh;\r\n            width: 40vw;\r\n            color: white;\r\n            background-color: #4cca78;\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n            font-size: 16px;\r\n\r\n\r\n\r\n        }\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--9-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--9-oneOf-1-5!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--9-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--9-oneOf-1-5!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1669620168627\n      var cssReload = require(\"E:/code/workSpace/project/lingting_travel/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}